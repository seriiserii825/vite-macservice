<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="shortcut icon" href="/img/favicon.ico" type="image/x-icon" />
    <title>Vite + SCSS</title>
    <style>
    </style>
  </head>
  <body>
    <div class="tv-container">
      <div class="main-content">
        <div class="grid-section" id="gridSection"></div>
        <div class="sidebar" id="sidebar"></div>
      </div>
    </div>
    <script type="module" src="./src/js/main.ts"></script>
    <script>
      // Данные для элементов сетки
      const items = [
        { date: "00/2025", type: "green", text: "Consegna materiali il 30/10" },
        { date: "103/2025", type: "green", text: "Trapano col. Servizio: TCO08" },
        { date: "106/2025", type: "green", text: "PLAY Squad, scherm tappeti" },
        { date: "105/2025", type: "green", text: "Pressa Gasparini KBJ 105/3000" },
        { date: "11/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "118/2026", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "7/25", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "88/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "15/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "15/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "15/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "259/2026", type: "red", text: "Questa è la descrizione della commessa" },
        { date: "145/2025", type: "red", text: "Questa è la descrizione della commessa" },
        { date: "255/2025", type: "red", text: "Questa è la descrizione della commessa" },
        { date: "88/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "15/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "15/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "15/2025", type: "green", text: "Questa è la descrizione della commessa" },
        { date: "259/2026", type: "red", text: "Questa è la descrizione della commessa" },
        { date: "145/2025", type: "red", text: "Questa è la descrizione della commessa" },
        { date: "255/2025", type: "red", text: "Questa è la descrizione della commessa" },
      ];
      // Данные для сайдбара
      const sidebarItems = [
        { text: "Materiali in arrivo per partner il 30/10/2025" },
        { text: "Riunione operativa in sala verde" },
        {
          text: "Ci sono novità riguardanti le tessere carburanti, chiedere al banco informazioni",
        },
        { text: "Materiali edili in arrivo" },
        { text: "Nuove direttive per la commessa 20, rivolgimi a Maurizio" },
        { text: "Ricordate di controllare le scadenze delle vostre patenti" },
        {
          text: "Ci sono novità riguardanti le tessere carburanti, chiedere al banco informazioni",
        },
        { text: "Materiali edili in arrivo" },
        { text: "Nuove direttive per la commessa 20, rivolgimi a Maurizio" },
        { text: "Ricordate di controllare le scadenze delle vostre patenti" },
        { text: "Ricordate di controllare le scadenze delle vostre patenti" },
        {
          text: "Ci sono novità riguardanti le tessere carburanti, chiedere al banco informazioni",
        },
        { text: "Materiali edili in arrivo" },
        { text: "Nuove direttive per la commessa 20, rivolgimi a Maurizio" },
        { text: "Ricordate di controllare le scadenze delle vostre patenti" },
        { text: "Materiali edili in arrivo" },
      ];
      // Функция для определения количества колонок в сетке
      function getGridColumns(itemCount) {
        if (itemCount <= 4) return 2;
        if (itemCount <= 9) return 3;
        return 4;
      }
      // Функция для определения количества колонок в сайдбаре
      function getSidebarColumns(itemCount) {
        return itemCount <= 3 ? 1 : 2;
      }
      // Рендеринг сетки
      function renderGrid() {
        const gridSection = document.getElementById("gridSection");
        const columns = getGridColumns(items.length);
        if (window.innerWidth > 992) {
          gridSection.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
        } else {
          gridSection.style.gridTemplateColumns = "";
        }
        gridSection.innerHTML = items
          .map(
            (item) => `
        <div class="grid-item ${item.type}">
          <div class="item-date">${item.date}</div>
          <div class="item-text">${item.text}</div>
        </div>
      `
          )
          .join("");
      }
      // Рендеринг сайдбара
      function renderSidebar() {
        const sidebar = document.getElementById("sidebar");
        const columns = getSidebarColumns(sidebarItems.length);
        if (window.innerWidth > 992) {
          sidebar.style.gridTemplateColumns = `repeat(${columns}, 1fr)`;
        } else {
          sidebar.style.gridTemplateColumns = "";
        }
        sidebar.innerHTML = sidebarItems
          .map(
            (item) => `
        <div class="sidebar-item">
          <span class="sidebar-bullet">•</span>
          <p class="sidebar-text">${item.text}</p>
        </div>
      `
          )
          .join("");
      }
      // Инициализация
      renderGrid();
      renderSidebar();
      // Перерендер при изменении размера окна (опционально)
      window.addEventListener("resize", () => {
        renderGrid();
        renderSidebar();
      });
    </script>
  </body>
</html>
